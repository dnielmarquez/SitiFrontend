import{u as h,j as s,a as l,T as r,b as w,s as m}from"./index-bb060518.js";import{c as f,a as o,b as x,u as P}from"./formik.esm-474330ae.js";import{S as p}from"./seo-6f431b89.js";import{b as j}from"./index-cc134824.js";import{F as a,a as n,T as t,b as d}from"./TextField-0a23fec1.js";global.Buffer=j.Buffer;const C={resetCode:"",newPassword:"",confirmPassword:""},g=f({resetCode:o().required("Reset code is required"),newPassword:o().min(8,"Password should be at least 8 characters").required("New password is required"),confirmPassword:o().oneOf([x("newPassword")],"Passwords must match").required("Confirm password is required")}),S=()=>{const{goToPage:u}=h(),e=P({initialValues:C,validationSchema:g,onSubmit:async i=>{try{(await m({resetToken:i.resetCode,newPassword:i.newPassword})).success&&u("/auth/signin")}catch(c){e.setStatus(c.response.data.message)}}});return s.jsxs(s.Fragment,{children:[s.jsx(p,{title:"Reset Password"}),s.jsxs("div",{children:[s.jsxs(l,{sx:{mb:4},spacing:1,children:[s.jsx(r,{variant:"h5",children:"Reset Your Password"}),s.jsx(r,{color:"text.secondary",variant:"body2",children:"Enter the reset code sent to your email and choose a new password."})]}),s.jsx("form",{noValidate:!0,onSubmit:e.handleSubmit,children:s.jsxs(l,{spacing:2,direction:"column",children:[e.status&&s.jsx(r,{color:"error",variant:"body2",children:e.status}),s.jsxs(a,{error:!!(e.touched.resetCode&&e.errors.resetCode),children:[s.jsx(n,{children:"Reset Code"}),s.jsx(t,{fullWidth:!0,variant:"outlined",name:"resetCode",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.resetCode}),!!(e.touched.resetCode&&e.errors.resetCode)&&s.jsx(d,{children:e.errors.resetCode})]}),s.jsxs(a,{error:!!(e.touched.newPassword&&e.errors.newPassword),children:[s.jsx(n,{children:"New Password"}),s.jsx(t,{fullWidth:!0,type:"password",name:"newPassword",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.newPassword}),!!(e.touched.newPassword&&e.errors.newPassword)&&s.jsx(d,{children:e.errors.newPassword})]}),s.jsxs(a,{error:!!(e.touched.confirmPassword&&e.errors.confirmPassword),children:[s.jsx(n,{children:"Confirm New Password"}),s.jsx(t,{fullWidth:!0,type:"password",name:"confirmPassword",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.confirmPassword}),!!(e.touched.confirmPassword&&e.errors.confirmPassword)&&s.jsx(d,{children:e.errors.confirmPassword})]}),s.jsx(w,{fullWidth:!0,size:"large",sx:{mt:3},type:"submit",variant:"contained",children:"Reset Password"})]})})]})]})};export{S as default};
