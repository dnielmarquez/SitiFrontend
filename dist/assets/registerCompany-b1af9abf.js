import{u as h,j as r,B as p,L as x,R as j,S as b,T as l,a as m,b as g,e as f,c as y}from"./index-807b01bc.js";import{c as N,a as s,u as v}from"./formik.esm-126333b8.js";import{A as C}from"./ArrowLeft-ada7d575.js";import{S as B}from"./seo-1f766124.js";import{b as w}from"./index-cc134824.js";import{F as o,a as n,T as i,b as t}from"./TextField-a9ba0984.js";global.Buffer=w.Buffer;const q={name:"",companyName:"",position:"",email:"",contactNumber:"",password:""},k=N({name:s().required("Name is required"),companyName:s().required("Company name is required"),position:s().required("Position is required"),email:s().email("Invalid email").required("Email is required"),contactNumber:s().matches(/^[0-9]+$/,"Must be only digits").min(10,"Must be at least 10 digits").required("Contact number is required"),password:s().min(8,"Password should be at least 8 characters").required("Password is required")}),A=()=>{const{goToPage:c}=h(),e=v({initialValues:q,validationSchema:k,onSubmit:async d=>{let u=d;u.role="COMPANY_PIC";const a=await f(d);a.error?a.error=="email is already taken."?e.setFieldError("email",a.message):e.setStatus(a.message):a.token&&(y.set("token",a.token,{expires:7}),c("/"))}});return r.jsxs(r.Fragment,{children:[r.jsx(B,{title:"Register as a Company"}),r.jsxs("div",{children:[r.jsx(p,{sx:{mb:4},children:r.jsxs(x,{color:"text.primary",component:j,href:"/auth/login",sx:{alignItems:"center",display:"inline-flex"},underline:"hover",children:[r.jsx(b,{sx:{mr:1},children:r.jsx(C,{})}),r.jsx(l,{variant:"subtitle2",children:"Go back"})]})}),r.jsxs(m,{sx:{mb:4},spacing:1,children:[r.jsx(l,{variant:"h5",children:"Join as a Company!"}),r.jsx(l,{color:"text.secondary",variant:"body2",children:"Fill in the fields below to become a Company"})]}),r.jsx("form",{noValidate:!0,onSubmit:e.handleSubmit,children:r.jsxs(m,{spacing:2,direction:"column",children:[e.status&&r.jsx(l,{color:"error",variant:"body2",children:e.status}),r.jsxs(o,{error:!!(e.touched.name&&e.errors.name),children:[r.jsx(n,{children:"Name"}),r.jsx(i,{fullWidth:!0,name:"name",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.name}),!!(e.touched.name&&e.errors.name)&&r.jsx(t,{children:e.errors.name})]}),r.jsxs(o,{error:!!(e.touched.companyName&&e.errors.companyName),children:[r.jsx(n,{children:"Company Name"}),r.jsx(i,{fullWidth:!0,name:"companyName",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.companyName}),!!(e.touched.companyName&&e.errors.companyName)&&r.jsx(t,{children:e.errors.companyName})]}),r.jsxs(o,{error:!!(e.touched.position&&e.errors.position),children:[r.jsx(n,{children:"Position"}),r.jsx(i,{fullWidth:!0,name:"position",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.position}),!!(e.touched.position&&e.errors.position)&&r.jsx(t,{children:e.errors.position})]}),r.jsxs(o,{error:!!(e.touched.email&&e.errors.email),children:[r.jsx(n,{children:"Email Address"}),r.jsx(i,{fullWidth:!0,name:"email",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.email}),!!(e.touched.email&&e.errors.email)&&r.jsx(t,{children:e.errors.email})]}),r.jsxs(o,{error:!!(e.touched.contactNumber&&e.errors.contactNumber),children:[r.jsx(n,{children:"Contact Number"}),r.jsx(i,{fullWidth:!0,name:"contactNumber",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.contactNumber}),!!(e.touched.contactNumber&&e.errors.contactNumber)&&r.jsx(t,{children:e.errors.contactNumber})]}),r.jsxs(o,{error:!!(e.touched.password&&e.errors.password),children:[r.jsx(n,{children:"Password"}),r.jsx(i,{fullWidth:!0,type:"password",name:"password",onBlur:e.handleBlur,onChange:e.handleChange,value:e.values.password}),!!(e.touched.password&&e.errors.password)&&r.jsx(t,{children:e.errors.password})]}),r.jsx(g,{fullWidth:!0,size:"large",sx:{mt:3},type:"submit",variant:"contained",children:"Register"})]})})]})]})};export{A as default};
